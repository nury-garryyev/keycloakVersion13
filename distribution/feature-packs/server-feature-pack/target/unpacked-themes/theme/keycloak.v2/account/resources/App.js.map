{"version":3,"sources":["../src/app/App.tsx"],"names":["React","PageNav","PageToolbar","makeRoutes","Brand","Page","PageHeader","PageSection","PageSidebar","KeycloakContext","App","Component","constructor","props","context","toggleReact","render","authenticated","isWelcomePage","login","username","marginLeft","loggedInUserName","Header","brandUrl","brandImg","Sidebar","height"],"mappings":";;AAAA;;;;;;;;;;;;;;;AAgBA,OAAO,KAAKA,KAAZ;AAIA,SAAQC,OAAR;AACA,SAAQC,WAAR;AACA,SAAQC,UAAR;AAEA,SACIC,KADJ,EAEIC,IAFJ,EAGIC,UAHJ,EAIIC,WAJJ,EAKIC,WALJ;AAQA,SAASC,eAAT;AAS4B;AAC5B,OAAO,MAAMC,GAAN,SAAkBV,KAAK,CAACW,SAAxB,CAA4C;AAIxCC,EAAAA,WAAP,CAAmBC,KAAnB,EAAoCC,OAApC,EAAwF;AACpF,UAAMD,KAAN;;AADoF;;AAEpF,SAAKC,OAAL,GAAeA,OAAf;AACAC,IAAAA,WAAW;AACd;;AAEMC,EAAAA,MAAP,GAAiC;AAC7BD,IAAAA,WAAW,GADkB,CAG7B;;AACA,QAAI,CAAC,KAAKD,OAAL,CAAcG,aAAd,EAAD,IAAkC,CAACC,aAAa,EAApD,EAAwD;AACpD,WAAKJ,OAAL,CAAcK,KAAd;AACH;;AAED,UAAMC,QAAQ,GACV;AAAM,MAAA,KAAK,EAAE;AAACC,QAAAA,UAAU,EAAE;AAAb,OAAb;AAAmC,MAAA,EAAE,EAAC;AAAtC,OAAsDC,gBAAgB,EAAtE,CADJ;AAGA,UAAMC,MAAM,GACR,oBAAC,UAAD;AACI,MAAA,IAAI,EAAE;AAAG,QAAA,EAAE,EAAC,WAAN;AAAkB,QAAA,IAAI,EAAEC;AAAxB,SAAkC,oBAAC,KAAD;AAAO,QAAA,GAAG,EAAEC,QAAZ;AAAsB,QAAA,GAAG,EAAC,MAA1B;AAAiC,QAAA,SAAS,EAAC;AAA3C,QAAlC,CADV;AAEI,MAAA,OAAO,EAAE,oBAAC,WAAD,OAFb;AAGI,MAAA,MAAM,EAAEL,QAHZ;AAII,MAAA,aAAa;AAJjB,MADJ;AASA,UAAMM,OAAO,GAAG,oBAAC,WAAD;AAAa,MAAA,GAAG,EAAE,oBAAC,OAAD;AAAlB,MAAhB;AAEA,WACI;AAAM,MAAA,KAAK,EAAE;AAAEC,QAAAA,MAAM,EAAE;AAAV;AAAb,OACI,oBAAC,IAAD;AAAM,MAAA,MAAM,EAAEJ,MAAd;AAAsB,MAAA,OAAO,EAAEG,OAA/B;AAAwC,MAAA,gBAAgB;AAAxD,OACI,oBAAC,WAAD,QACKvB,UAAU,EADf,CADJ,CADJ,CADJ;AASH;;AAzC8C;;gBAAtCO,G,iBACYD,e;;AAyCxB","sourcesContent":["/*\r\n * Copyright 2018 Red Hat, Inc. and/or its affiliates.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport * as React from 'react';\r\n\r\nimport {KeycloakService} from './keycloak-service/keycloak.service';\r\n\r\nimport {PageNav} from './PageNav';\r\nimport {PageToolbar} from './PageToolbar';\r\nimport {makeRoutes} from './ContentPages';\r\n\r\nimport {\r\n    Brand,\r\n    Page,\r\n    PageHeader,\r\n    PageSection,\r\n    PageSidebar,\r\n} from '@patternfly/react-core';\r\n\r\nimport { KeycloakContext } from './keycloak-service/KeycloakContext';\r\n\r\ndeclare function toggleReact(): void;\r\ndeclare function isWelcomePage(): boolean;\r\ndeclare function loggedInUserName(): string;\r\n\r\ndeclare const brandImg: string;\r\ndeclare const brandUrl: string;\r\n\r\nexport interface AppProps {};\r\nexport class App extends React.Component<AppProps> {\r\n    static contextType = KeycloakContext;\r\n    context: React.ContextType<typeof KeycloakContext>;\r\n\r\n    public constructor(props: AppProps, context: React.ContextType<typeof KeycloakContext>) {\r\n        super(props);\r\n        this.context = context;\r\n        toggleReact();\r\n    }\r\n\r\n    public render(): React.ReactNode {\r\n        toggleReact();\r\n\r\n        // check login\r\n        if (!this.context!.authenticated() && !isWelcomePage()) {\r\n            this.context!.login();\r\n        }\r\n\r\n        const username = (\r\n            <span style={{marginLeft: '10px'}} id=\"loggedInUser\">{loggedInUserName()}</span>\r\n        );\r\n        const Header = (\r\n            <PageHeader\r\n                logo={<a id=\"brandLink\" href={brandUrl}><Brand src={brandImg} alt=\"Logo\" className=\"brand\"/></a>}\r\n                toolbar={<PageToolbar/>}\r\n                avatar={username}\r\n                showNavToggle\r\n            />\r\n        );\r\n\r\n        const Sidebar = <PageSidebar nav={<PageNav/>} />;\r\n\r\n        return (\r\n            <span style={{ height: '100%'}}>\r\n                <Page header={Header} sidebar={Sidebar} isManagedSidebar>\r\n                    <PageSection>\r\n                        {makeRoutes()}\r\n                    </PageSection>\r\n                </Page>\r\n            </span>\r\n        );\r\n    }\r\n};"],"file":"App.js"}